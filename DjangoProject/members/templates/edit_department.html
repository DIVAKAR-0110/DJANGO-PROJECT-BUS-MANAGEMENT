{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Department</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="bg-gray-100 font-inter min-h-screen flex items-center justify-center px-4">
  <div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-4xl fade-in">
    <h1 class="text-3xl font-bold text-purple-700 mb-6 text-center">Edit Department</h1>

    <form method="POST" enctype="multipart/form-data" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {% csrf_token %}

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Department Name</label>
        <input type="text" name="name" value="{{ department.name }}" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Department Code</label>
        <input type="text" name="department_code" value="{{ department.department_code }}" class="w-full border rounded-lg px-4 py-2">
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Start Date</label>
        <input type="date" name="start_date" value="{{ department.start_date }}" class="w-full border rounded-lg px-4 py-2" required>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">End Date</label>
        <input type="date" name="end_date" value="{{ department.end_date }}" class="w-full border rounded-lg px-4 py-2" required>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Semester Count</label>
        <input type="number" name="semester_count" value="{{ department.semester_count }}" class="w-full border rounded-lg px-4 py-2" required>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Number of Students</label>
        <input type="number" name="number_of_student_in_this_department" value="{{ department.number_of_student_in_this_department }}" class="w-full border rounded-lg px-4 py-2" required>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Head of Department</label>
        <input type="text" name="department_head" value="{{ department.department_head }}" class="w-full border rounded-lg px-4 py-2" required>
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Email</label>
        <input type="email" name="department_email" value="{{ department.department_email }}" class="w-full border rounded-lg px-4 py-2">
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Contact Number</label>
        <input type="text" name="contact_number" value="{{ department.contact_number }}" class="w-full border rounded-lg px-4 py-2">
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Established Year</label>
        <input type="number" name="established_year" value="{{ department.established_year }}" class="w-full border rounded-lg px-4 py-2">
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1">Department Logo</label>
        <input type="file" name="department_logo" class="w-full border rounded-lg px-4 py-2 bg-white">
        {% if department.department_logo %}
          <p class="text-sm mt-1">Current: <img src="{{ department.department_logo.url }}" alt="Logo" class="w-16 h-16 inline rounded-lg"></p>
        {% endif %}
      </div>

      <div class="md:col-span-2">
        <label class="block text-gray-700 font-semibold mb-1">Description</label>
        <textarea name="description" rows="3" class="w-full border rounded-lg px-4 py-2">{{ department.description }}</textarea>
      </div>

      <div class="md:col-span-2">
        <label class="block text-gray-700 font-semibold mb-1">Notes</label>
        <textarea name="notes" rows="3" class="w-full border rounded-lg px-4 py-2">{{ department.notes }}</textarea>
      </div>

      <div class="md:col-span-2 flex justify-end mt-4">
        <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white font-bold px-6 py-3 rounded-lg transition duration-300 ease-in-out">
          Update Department
        </button>
        <button onclick="history.back();" class="flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition duration-200 shadow-md">
  <span class="material-icons">arrow_back</span>
  <b>Go Back</b>
</button>
      </div>
    </form>
  </div>
</body>
</html>
